(this["webpackJsonpinstagram-clone"]=this["webpackJsonpinstagram-clone"]||[]).push([[0],{55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},66:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),c=a(18),i=a.n(c),r=(a(55),a(13)),o=(a(56),a(96)),l=(a(57),a(23)),j=l.a.initializeApp({apiKey:"AIzaSyAbJrsHxDioUesFIJ6Rcm2QgjfxNMrE12A",authDomain:"instagram-clone-f405f.firebaseapp.com",projectId:"instagram-clone-f405f",storageBucket:"instagram-clone-f405f.appspot.com",messagingSenderId:"1026160056810",appId:"1:1026160056810:web:b13dce151bb23af4d6fa93",measurementId:"G-R2H4Q4SFKD"}).firestore(),u=l.a.auth(),d=l.a.storage(),m=a(25),p=a(5);var b=function(e){var t=e.username,a=e.postId,s=e.user,c=e.imageUrl,i=e.caption,u=Object(n.useState)([]),d=Object(r.a)(u,2),b=d[0],g=d[1],O=Object(n.useState)([]),h=Object(r.a)(O,2),f=h[0],x=h[1];return Object(n.useEffect)((function(){var e;return a&&(e=j.collection("posts").doc(a).collection("comments").orderBy("timestamp","asc").onSnapshot((function(e){g(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[a]),Object(p.jsxs)("div",{className:"post",children:[Object(p.jsxs)("div",{className:"post_header",children:[Object(p.jsx)(o.a,{className:"post-avatar",alt:"Sajid",src:"{username} "}),Object(p.jsx)("h3",{children:t})]}),Object(p.jsx)("img",{className:"post_image",src:c,alt:""}),Object(p.jsx)("span",{children:Object(p.jsx)(m.b,{className:"Image__icons"})}),Object(p.jsx)("span",{children:Object(p.jsx)(m.a,{className:"Image__icons"})}),Object(p.jsx)("span",{children:Object(p.jsx)(m.c,{className:"Image__icons"})}),Object(p.jsxs)("h3",{className:"post_text",children:[Object(p.jsxs)("strong",{children:[t,"  "]}),i]}),Object(p.jsx)("div",{className:"post__comments",children:b.map((function(e){return Object(p.jsxs)("p",{children:[Object(p.jsxs)("strong",{children:[e.username,":"]})," ",e.text]})}))}),s&&Object(p.jsxs)("form",{className:"post_commentBox",children:[Object(p.jsx)("input",{className:"post_input",type:"text",placeholder:"Add a comment",value:f,onChange:function(e){return x(e.target.value)}}),Object(p.jsx)("button",{className:"post_button",disable:!f,type:"submit",onClick:function(e){e.preventDefault(),j.collection("posts").doc(a).collection("comments").add({text:f,username:s.displayName,timestamp:l.a.firestore.FieldValue.serverTimestamp()}),x("")},children:"Comment"})]})]})},g=a(93),O=a(92),h=a(95),f=a(94);a(66);var x=function(e){var t=e.username,a=Object(n.useState)(""),s=Object(r.a)(a,2),c=s[0],i=s[1],o=Object(n.useState)(0),u=Object(r.a)(o,2),m=u[0],b=u[1],g=Object(n.useState)(null),O=Object(r.a)(g,2),h=O[0],x=O[1];return Object(p.jsxs)("div",{className:"imageupload",children:[Object(p.jsx)("progress",{className:"uploadprogress",value:m,max:"100"}),Object(p.jsx)("input",{type:"text",placeholder:"enter a caption",onChange:function(e){return i(e.target.value)},value:c}),Object(p.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&x(e.target.files[0])}}),Object(p.jsx)(f.a,{className:"imageupload_button",onClick:function(){d.ref("images/".concat(h.name)).put(h).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);b(t)}),(function(e){console.log(e),alert(e.message)}),(function(){d.ref("images").child(h.name).getDownloadURL().then((function(e){j.collection("posts").add({timestamp:l.a.firestore.FieldValue.serverTimestamp(),caption:c,imageUrl:e,username:t}),b(0),i(""),x(null)}))}))},children:"Upload"})]})},v=a(46),N=a(38),_=function(){var e=s.a.useState([{id:1,image:"/images/amir.jpg",name:"shakil432"},{id:2,image:"/images/imran.jpg",name:"ahsan32"},{id:3,image:"/images/irfan.jpg",name:"babar42"},{id:4,image:"/images/salman.jpg",name:"fawad2"},{id:5,image:"/images/sharuk.jpg",name:"feroz432"},{id:6,image:"/images/sushant.jpg",name:"adil5"}]),t=Object(r.a)(e,2),a=t[0];t[1];return Object(p.jsx)("div",{className:"stories",children:a.map((function(e){return Object(p.jsxs)("div",{className:"stories__info",children:[Object(p.jsx)("div",{className:"stories__img",children:Object(p.jsx)("span",{children:Object(p.jsx)("img",{src:e.image,alt:"user"})})}),Object(p.jsx)("div",{className:"stories__name",children:e.name})]},e.id)}))})};function S(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var C=Object(O.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var w=function(){var e=C(),t=s.a.useState(S),a=Object(r.a)(t,1)[0],c=Object(n.useState)([]),i=Object(r.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)(""),O=Object(r.a)(d,2),w=O[0],y=O[1],I=Object(n.useState)(""),k=Object(r.a)(I,2),A=k[0],U=k[1],F=Object(n.useState)(""),B=Object(r.a)(F,2),D=B[0],T=B[1],E=Object(n.useState)(!1),L=Object(r.a)(E,2),P=L[0],J=L[1],R=Object(n.useState)(!1),z=Object(r.a)(R,2),M=z[0],W=z[1],G=Object(n.useState)(null),H=Object(r.a)(G,2),K=H[0],Q=H[1];return Object(n.useEffect)((function(){var e=u.onAuthStateChanged((function(e){e?(console.log(e),Q(e)):Q(null)}));return function(){e()}}),[K,w]),Object(n.useEffect)((function(){j.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){l(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(g.a,{open:P,onClose:function(){return J(!1)},children:Object(p.jsx)("div",{style:a,className:e.paper,children:Object(p.jsxs)("form",{className:"app_signup",children:[Object(p.jsx)("center",{children:Object(p.jsx)("img",{className:"app_headerImg",src:"./download.png",alt:"hello world"})}),Object(p.jsx)(h.a,{placeholder:"email",type:"text",value:A,onChange:function(e){return U(e.target.value)}}),Object(p.jsx)(h.a,{placeholder:"username",type:"text",value:w,onChange:function(e){return y(e.target.value)}}),Object(p.jsx)(h.a,{placeholder:"password",type:"password",value:D,onChange:function(e){return T(e.target.value)}}),Object(p.jsx)(f.a,{onClick:function(e){e.preventDefault(),u.createUserWithEmailAndPassword(A,D).then((function(e){e.user.updateProfile({displayName:w})})).catch((function(e){return alert(e.message)}))},children:"SignUp"})]})})}),Object(p.jsx)(g.a,{open:M,onClose:function(){return W(!1)},children:Object(p.jsx)("div",{style:a,className:e.paper,children:Object(p.jsxs)("form",{className:"app_signup",children:[Object(p.jsx)("center",{children:Object(p.jsx)("img",{className:"app_headerImg",src:"./download.png",alt:"hello world"})}),Object(p.jsx)(h.a,{placeholder:"email",type:"text",value:A,onChange:function(e){return U(e.target.value)}}),Object(p.jsx)(h.a,{placeholder:"password",type:"password",value:D,onChange:function(e){return T(e.target.value)}}),Object(p.jsx)(f.a,{type:"submit",onClick:function(e){e.preventDefault(),u.signInWithEmailAndPassword(A,D).catch((function(e){alert(e.message)})),W(!1)},children:"SignIn"})]})})}),Object(p.jsxs)("div",{className:"app_header",children:[Object(p.jsx)("img",{className:"app_headerImg",src:"./download.png",alt:"hello world"}),Object(p.jsx)("div",{className:"navbar",children:Object(p.jsxs)("div",{className:"navbar__last",children:[Object(p.jsx)("li",{children:Object(p.jsx)(N.a,{className:"navbar__icons"})}),Object(p.jsx)("li",{children:Object(p.jsx)(m.c,{className:"navbar__icons"})}),Object(p.jsx)("li",{children:Object(p.jsx)(m.a,{className:"navbar__icons"})}),Object(p.jsx)("li",{children:Object(p.jsx)(m.b,{className:"navbar__icons"})})]})}),K?Object(p.jsx)(f.a,{onClick:function(){return u.signOut()},children:"Logout"}):Object(p.jsxs)("div",{className:"app_loginContainer",children:[Object(p.jsx)(f.a,{onClick:function(){return W(!0)},children:"Sign In"}),Object(p.jsx)(f.a,{onClick:function(){return J(!0)},children:"Sign Up"})]})]}),Object(p.jsx)(_,{}),Object(p.jsxs)("div",{className:"app_posts",children:[o.map((function(e){var t=e.id,a=e.post;return Object(p.jsx)(b,{postId:t,user:K,username:a.username,caption:a.caption,imageUrl:a.imageUrl},t)})),Object(p.jsx)(v.a,{url:"https://www.instagram.com/p/B_uf9dmAGPw/",clientAccessToken:"123|456",maxWidth:320,hideCaption:!1,containerTagName:"div",protocol:"",injectScript:!0,onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){}})]}),(null===K||void 0===K?void 0:K.displayName)?Object(p.jsx)(x,{username:K.displayName}):Object(p.jsx)("h3",{children:" Sorry You Need To Login"})]})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,98)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};i.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root")),y()}},[[69,1,2]]]);
//# sourceMappingURL=main.67b977e2.chunk.js.map